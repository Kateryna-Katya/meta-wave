{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    // 1. РЕГИСТРАЦИЯ ПЛАГИНОВ\n    gsap.registerPlugin(ScrollTrigger, MotionPathPlugin);\n\n    // 2. ИНИЦИАЛИЗАЦИЯ ИКОНОК\n    if (typeof lucide !== 'undefined') lucide.createIcons();\n\n    // 3. ПЛАВНЫЙ СКРОЛЛ (Lenis)\n    const lenis = new Lenis();\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // 4. МОБИЛЬНОЕ МЕНЮ (С исправлением закрытия)\n    const burger = document.getElementById('burger-menu');\n    const menuOverlay = document.getElementById('menu-overlay');\n    const body = document.body;\n\n    if (burger && menuOverlay) {\n        // Открытие/закрытие по клику на бургер\n        burger.addEventListener('click', () => {\n            burger.classList.toggle('is-active');\n            menuOverlay.classList.toggle('is-active');\n            body.style.overflow = menuOverlay.classList.contains('is-active') ? 'hidden' : '';\n        });\n\n        // ЗАКРЫТИЕ ПРИ КЛИКЕ НА ЛЮБУЮ ССЫЛКУ В МЕНЮ\n        const menuLinks = menuOverlay.querySelectorAll('a');\n        menuLinks.forEach(link => {\n            link.addEventListener('click', () => {\n                burger.classList.remove('is-active');\n                menuOverlay.classList.remove('is-active');\n                body.style.overflow = ''; // Возвращаем скролл\n            });\n        });\n    }\n\n    // 5. АНИМАЦИЯ HERO (Слова не разрываются + Градиент)\n    const heroTitleText = document.querySelector('#hero-title');\n    if (heroTitleText) {\n        // types: 'words, chars' — критично для сохранения целостности слов\n        const split = new SplitType(heroTitleText, { types: 'words, chars' });\n\n        const tl = gsap.timeline({\n            defaults: { ease: \"expo.out\", duration: 1 }\n        });\n\n        gsap.set(['.hero__badge', '.hero__description', '.hero__actions', '.btn'], {\n            opacity: 1,\n            visibility: 'visible'\n        });\n\n        tl.from('.hero__badge', { y: 30, opacity: 0, delay: 0.2 })\n          .from(split.chars, {\n              y: 50,\n              opacity: 0,\n              stagger: 0.02,\n              duration: 0.8\n          }, \"-=0.6\")\n          .from('.hero__description', { y: 20, opacity: 0 }, \"-=0.7\")\n          .from('.hero__actions .btn', {\n              y: 20,\n              opacity: 0,\n              stagger: 0.2\n          }, \"-=0.7\");\n    }\n\n    // 6. АНИМАЦИЯ ВОЛНЫ\n    if (document.querySelector(\".wave-path\")) {\n        gsap.to(\".wave-dot\", {\n            motionPath: {\n                path: \".wave-path\",\n                align: \".wave-path\",\n                alignOrigin: [0.5, 0.5]\n            },\n            duration: 5,\n            repeat: -1,\n            yoyo: true,\n            ease: \"sine.inOut\"\n        });\n    }\n\n    // 7. ИНТЕРАКТИВНЫЕ КАРТОЧКИ (Tilt)\n    const cards = document.querySelectorAll('.benefit-card, .blog-card');\n    cards.forEach(card => {\n        card.addEventListener('mousemove', (e) => {\n            const rect = card.getBoundingClientRect();\n            const x = e.clientX - rect.left;\n            const y = e.clientY - rect.top;\n            const rotateX = (y - rect.height / 2) / 12;\n            const rotateY = (rect.width / 2 - x) / 12;\n\n            card.style.setProperty('--x', `${(x / rect.width) * 100}%`);\n            card.style.setProperty('--y', `${(y / rect.height) * 100}%`);\n\n            gsap.to(card, { rotateX, rotateY, duration: 0.5 });\n        });\n\n        card.addEventListener('mouseleave', () => {\n            gsap.to(card, { rotateX: 0, rotateY: 0, duration: 0.8, ease: \"elastic.out(1, 0.5)\" });\n        });\n    });\n\n    // 8. КОНТАКТНАЯ ФОРМА\n    const initForm = () => {\n        const form = document.getElementById('career-form');\n        const captchaLabel = document.getElementById('captcha-question');\n        const captchaInput = document.getElementById('captcha-input');\n        const phoneInput = document.getElementById('phone');\n        const successMessage = document.getElementById('form-success');\n\n        if (!form || !captchaLabel) return;\n\n        let n1 = Math.floor(Math.random() * 9) + 1;\n        let n2 = Math.floor(Math.random() * 9) + 1;\n        let correctAnswer = n1 + n2;\n        captchaLabel.textContent = `${n1} + ${n2} =`;\n\n        if (phoneInput) {\n            phoneInput.addEventListener('input', (e) => {\n                e.target.value = e.target.value.replace(/[^\\d+]/g, '');\n            });\n        }\n\n        form.onsubmit = (e) => {\n            e.preventDefault();\n            if (parseInt(captchaInput.value) !== correctAnswer) {\n                alert('Капча решена неверно!');\n                return;\n            }\n            const btn = form.querySelector('button');\n            btn.disabled = true;\n            btn.innerHTML = 'Отправка...';\n            setTimeout(() => {\n                successMessage.classList.add('is-active');\n            }, 1000);\n        };\n    };\n    initForm();\n\n    // 9. КУКИ\n    const initCookies = () => {\n        const popup = document.getElementById('cookie-popup');\n        const acceptBtn = document.getElementById('cookie-accept');\n        if (!popup || !acceptBtn) return;\n        if (!localStorage.getItem('cookies-accepted')) {\n            setTimeout(() => popup.classList.add('is-active'), 2000);\n        }\n        acceptBtn.onclick = () => {\n            localStorage.setItem('cookies-accepted', 'true');\n            popup.classList.remove('is-active');\n        };\n    };\n    initCookies();\n\n    // 10. ЭФФЕКТ ХЕДЕРА\n    window.addEventListener('scroll', () => {\n        const header = document.getElementById('header');\n        if (window.scrollY > 50) header.classList.add('header--scroll');\n        else header.classList.remove('header--scroll');\n    });\n});"],"names":["lenis","raf","time","burger","menuOverlay","body","link","heroTitleText","split","tl","card","e","rect","x","y","rotateX","rotateY","form","captchaLabel","captchaInput","phoneInput","successMessage","n1","n2","correctAnswer","btn","popup","acceptBtn","header"],"mappings":"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"}